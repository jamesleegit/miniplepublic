<div class="comment-line" *ngIf="data" [class.active-reaction]="isActiveReaction">
    <span class="time" *ngIf="showCreateTime">{{ data.createTime | timeAgo }}</span>
    <span class="time pointer" (click)="seekTo.emit(data.time / 1000);">{{ toTimeForDisplay(data.time) }}</span>
    <!-- <span class="time pointer" (click)="seekTo.emit(data.time / 1000);" *ngIf="data.time > currentTime">{{ countDown(floor(data.time / 1000) * 1000 - currentTime) }}</span> -->
    <img [src]="data.thumbnailSrc" (click)="openUserDialog(data.userId)">

    <!-- ë¹„íšŒì› -->
    <span class="nickname pointer" [style.color]="data.nicknameColor" *ngIf="data.userId < 1">{{ data.nickname }}</span>
    <a class="nickname pointer" [style.color]="data.nicknameColor" (click)="openUserDialog(data.userId)" *ngIf="data.userId >= 1">{{ data.nickname }}</a>

    <span class="comment pointer"(click)="isActiveReaction = !isActiveReaction;" >{{ data.text }}</span>

    <div class="reaction-text-wrap" *ngIf="data.reactions">
        <span class="reaction" *ngIf="data.reactions.funny" [matTooltip]="'ì›ƒê²¨ìš”'">ğŸ¤£{{ data.reactions.funny}}</span>
        <span class="reaction" *ngIf="data.reactions.surprise" [matTooltip]="'ë†€ëì–´ìš”'">ğŸ˜±{{ data.reactions.surprise}}</span>
        <span class="reaction" *ngIf="data.reactions.bad" [matTooltip]="'ë‚˜ë¹ ìš”'">ğŸ˜¡{{ data.reactions.bad}}</span>
        <span class="reaction" *ngIf="data.reactions.sad" [matTooltip]="'ìŠ¬í¼ìš”'">ğŸ˜­{{ data.reactions.sad}}</span>
    </div>

    <span class="btn-reaction pointer" mat-ripple (click)="isActiveReaction = !isActiveReaction;" *ngIf="_core.isLoggedIn && _core.user.id !== data.userId">
        <i class="fas fa-chevron-circle-up" *ngIf="isActiveReaction"></i>
        <i class="fas fa-chevron-circle-down" *ngIf="!isActiveReaction"></i>
    </span>

    <div class="reaction-wrap card" *ngIf="isActiveReaction" [class.disabled]="isReacting">
        <div class="item" mat-ripple (click)="react('funny');">
            <span class="icon">ğŸ¤£</span>
            <span class="text">ì›ƒê²¨ìš”</span>
        </div>

        <div class="item" mat-ripple (click)="react('surprise');">
            <span class="icon">ğŸ˜±</span>
            <span class="text">ë†€ëì–´ìš”</span>
        </div>

        <div class="item" mat-ripple (click)="react('bad');">
            <span class="icon">ğŸ˜¡</span>
            <span class="text">ë‚˜ë¹ ìš”</span>
        </div>

        <div class="item" mat-ripple (click)="react('sad');">
            <span class="icon">ğŸ˜­</span>
            <span class="text">ìŠ¬í¼ìš”</span>
        </div>
    </div>
</div>